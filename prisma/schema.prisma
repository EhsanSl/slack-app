// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type Team{
  id String
  name String
}
enum TokenType {
  BOT
  MEMBER
}
type SlackToken {
  id String
  scope String
  accessToken String
  refreshToken String?
  tokenType TokenType
}
model NetworkSettings{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  
  createdAt  DateTime?   @default(now())
  updatedAt DateTime? @updatedAt
  
  networkId String @unique
  memberId String
  appId String

  team Team
  memberToken SlackToken
  botToken SlackToken

  isEnterpriseInstall Boolean @default(false)
}
model IncomingWebhook{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  
  channel String
  channelId String
  url String
  configUrl String
  scope String
  accessToken String
  userId String
  teamId String
  teamName String
  networkId String
  memberId String
  spaceIds String[]
  events String[]

  @@map("incomingwebhooks")
}